<!DOCTYPE html>
<html lang="fa" dir="rtl">
{{ partial "head.html" . }}
<body>
    {{ partial "header.html" . }}

    {{/* Render the courses list for this section; nested course sections will use type-based template at layouts/course/section.html */}}
    {{/* BEGIN: list view (copied from courses/list.html) */}}
    <div class="course-list-page">
        <section class="page-header">
            <div class="container">
                <div class="header-content">
                    <h1>Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù†</h1>
                    <p>ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØªØŒ Ù‡Ù…Ù‡ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù‡Ù…Ú¯Ø§Ù†</p>
                    {{ $section := .CurrentSection | default . }}
                    {{ $pages := $section.RegularPages }}
                    {{ $children := $section.Sections }}
                    {{ $sectionLinks := slice }}
                    {{ range $children }}
                        {{ $sectionLinks = $sectionLinks | append .RelPermalink }}
                    {{ end }}
                    {{ $pagesFiltered := slice }}
                    {{ range $pages }}
                        {{ if not (in $sectionLinks .RelPermalink) }}
                            {{ $pagesFiltered = $pagesFiltered | append . }}
                        {{ end }}
                    {{ end }}
                    {{ $allCourses := union $pagesFiltered $children }}
                    <div class="header-stats">
                        <div class="stat-card"><div class="stat-icon">ğŸ“š</div><div class="stat-info"><div class="stat-number">{{ len $allCourses }}</div><div class="stat-label">Ø¯ÙˆØ±Ù‡ Ù…ÙˆØ¬ÙˆØ¯</div></div></div>
                        <div class="stat-card"><div class="stat-icon">ğŸ†“</div><div class="stat-info"><div class="stat-number">100%</div><div class="stat-label">Ø±Ø§ÛŒÚ¯Ø§Ù†</div></div></div>
                        <div class="stat-card"><div class="stat-icon">â°</div><div class="stat-info"><div class="stat-number">24/7</div><div class="stat-label">Ø¯Ø³ØªØ±Ø³ÛŒ</div></div></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="course-filters-section">
            <div class="container">
                <div class="filters-container">
                    <div class="filter-group">
                        <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
                        <div class="filter-options">
                            <a href="#" class="filter-btn active" data-filter="all">Ù‡Ù…Ù‡</a>
                            {{ range .Site.Taxonomies.course_categories }}
                                <a href="#" class="filter-btn" data-filter="{{ .Page.Title }}">{{ .Page.Title }}</a>
                            {{ end }}
                        </div>
                    </div>
                    <div class="filter-group">
                        <label>Ø³Ø·Ø­:</label>
                        <div class="filter-options">
                            <a href="#" class="filter-btn" data-level="all">Ù‡Ù…Ù‡ Ø³Ø·ÙˆØ­</a>
                            <a href="#" class="filter-btn" data-level="Ù…Ø¨ØªØ¯ÛŒ">Ù…Ø¨ØªØ¯ÛŒ</a>
                            <a href="#" class="filter-btn" data-level="Ù…ØªÙˆØ³Ø·">Ù…ØªÙˆØ³Ø·</a>
                            <a href="#" class="filter-btn" data-level="Ù¾ÛŒØ´Ø±ÙØªÙ‡">Ù¾ÛŒØ´Ø±ÙØªÙ‡</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="courses-content">
            <div class="container">
                <div class="courses-grid">
                    {{ range $allCourses }}
                        {{ $isLesson := or (eq .Type "lessons") (eq (lower .Section) "lessons") (eq .Params.type "lessons") }}
                        {{ if not $isLesson }}
                        <div class="course-card" data-category="{{ range .Params.course_categories }}{{ . }} {{ end }}" data-level="{{ .Params.difficulty }}">
                            <div class="course-image">
                                {{ if .Params.image }}
                                    <img src="{{ .Params.image }}" alt="{{ .Title }}" loading="lazy">
                                {{ else }}
                                    <div class="image-placeholder"><div class="placeholder-icon">ğŸ“š</div></div>
                                {{ end }}
                                {{ if .Params.difficulty }}<div class="course-level">{{ .Params.difficulty }}</div>{{ end }}
                                {{ if .Params.duration }}
                                    <div class="course-duration"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>{{ .Params.duration }}</div>
                                {{ end }}
                            </div>
                            <div class="course-content">
                                <h3 class="course-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                                {{ if .Params.description }}
                                    <p class="course-description">{{ .Params.description }}</p>
                                {{ else }}
                                    <p class="course-description">{{ .Summary | truncate 120 }}</p>
                                {{ end }}
                            </div>
                            <div class="course-footer">
                                <a href="{{ .Permalink }}" class="course-btn"><span class="btn-text">Ø´Ø±ÙˆØ¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</span><svg class="btn-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></a>
                            </div>
                        </div>
                        {{ end }}
                    {{ end }}
                </div>
                {{ if eq (len $allCourses) 0 }}
                <div class="no-courses"><div class="no-courses-icon">ğŸ“š</div><h3>Ù‡Ù†ÙˆØ² Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª</h3><p>Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯</p></div>
                {{ end }}
            </div>
        </section>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded',function(){const e=document.querySelectorAll('.filter-btn'),t=document.querySelectorAll('.course-card');function a(){const a=document.querySelector('[data-filter].active')?.dataset.filter||'all',r=document.querySelector('[data-level].active')?.dataset.level||'all';t.forEach(e=>{const t=e.dataset.category,n=e.dataset.level,i=('all'===a||t.includes(a))&&('all'===r||n===r);e.style.display=i?'block':'none'})}
    e.forEach(t=>{t.addEventListener('click',function(t){t.preventDefault();const n=this.closest('.filter-group');n.querySelectorAll('.filter-btn').forEach(e=>e.classList.remove('active')),this.classList.add('active'),a()})});});
    </script>
    {{/* END: list view */}}

    {{ partial "footer.html" . }}
    {{ partial "scripts.html" . }}
</body>
</html>
