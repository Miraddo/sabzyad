{{ define "main" }}
<div class="blog-container">
  <div class="container">
    <!-- Blog Header -->
    <div class="blog-header">
      <h1 class="blog-title">{{ .Title }}</h1>
      {{ if .Content }}
        <div class="blog-description">
          {{ .Content }}
        </div>
      {{ end }}
    </div>

    <!-- Blog Posts Grid -->
    {{ if .Pages }}
      <div class="blog-grid">
        {{ range .Pages }}
          <article class="blog-card">
            <!-- Post Image with Placeholder -->
            <div class="blog-image">
              {{ if .Params.image }}
                {{ $placeholderText := "Blog+Post" }}
                {{ if or (in .Title "Machine Learning") (in .Title "€åÿßÿØ⁄Ø€åÿ±€å ŸÖÿßÿ¥€åŸÜ") }}
                  {{ $placeholderText = "Machine+Learning" }}
                {{ else if or (in .Title "Python") (in .Title "Ÿæÿß€åÿ™ŸàŸÜ") }}
                  {{ $placeholderText = "Python" }}
                {{ else if or (in .Title "Deep Learning") (in .Title "Neural") }}
                  {{ $placeholderText = "Deep+Learning" }}
                {{ else if or (in .Params.categories "Programming") (in .Params.categories "AI") }}
                  {{ $placeholderText = "Programming" }}
                {{ else if or (in .Params.tags "Algorithm") (in .Title "Algorithm") (in .Title "ÿßŸÑ⁄ØŸàÿ±€åÿ™ŸÖ") }}
                  {{ $placeholderText = "Algorithm" }}
                {{ else if or (in .Params.tags "Data Science") (in .Title "Data") }}
                  {{ $placeholderText = "Data+Science" }}
                {{ else if or (in .Title "Web") (in .Title "Ÿàÿ®") }}
                  {{ $placeholderText = "Web+Development" }}
                {{ end }}
                <img src="{{ .Params.image }}" alt="{{ .Title }}" 
                     onerror="this.src='https://placehold.co/400x250/e2e8f0/64748b?text={{ $placeholderText }}';">
              {{ else }}
                {{ $placeholderText := "Blog+Post" }}
                {{ if or (in .Title "Machine Learning") (in .Title "€åÿßÿØ⁄Ø€åÿ±€å ŸÖÿßÿ¥€åŸÜ") }}
                  {{ $placeholderText = "Machine+Learning" }}
                {{ else if or (in .Title "Python") (in .Title "Ÿæÿß€åÿ™ŸàŸÜ") }}
                  {{ $placeholderText = "Python" }}
                {{ else if or (in .Title "Deep Learning") (in .Title "Neural") }}
                  {{ $placeholderText = "Deep+Learning" }}
                {{ else if or (in .Params.categories "Programming") (in .Params.categories "AI") }}
                  {{ $placeholderText = "Programming" }}
                {{ else if or (in .Params.tags "Algorithm") (in .Title "Algorithm") (in .Title "ÿßŸÑ⁄ØŸàÿ±€åÿ™ŸÖ") }}
                  {{ $placeholderText = "Algorithm" }}
                {{ else if or (in .Params.tags "Data Science") (in .Title "Data") }}
                  {{ $placeholderText = "Data+Science" }}
                {{ else if or (in .Title "Web") (in .Title "Ÿàÿ®") }}
                  {{ $placeholderText = "Web+Development" }}
                {{ end }}
                <img src="https://placehold.co/400x250/e2e8f0/64748b?text={{ $placeholderText }}" alt="{{ .Title }}">
              {{ end }}
            </div>

            <!-- Post Content -->
            <div class="blog-content">
              <!-- Categories -->
              {{ if .Params.categories }}
                <div class="blog-categories">
                  {{ range .Params.categories }}
                    <span class="category-tag">{{ . }}</span>
                  {{ end }}
                </div>
              {{ end }}

              <!-- Title -->
              <h2 class="blog-title">
                <a href="{{ .Permalink }}">{{ .Title }}</a>
              </h2>

              <!-- Meta Info -->
              <div class="blog-meta">
                {{ if .Date }}
                  <span class="blog-date" data-date="{{ .Date.Format "2006-01-02" }}">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                      <line x1="16" y1="2" x2="16" y2="6"></line>
                      <line x1="8" y1="2" x2="8" y2="6"></line>
                      <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    {{ .Date.Format "Jan 2, 2006" }}
                  </span>
                {{ end }}
                {{ if .Params.author }}
                  <span class="blog-author">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    {{ .Params.author }}
                  </span>
                {{ end }}
              </div>

              <!-- Description/Summary -->
              {{ if .Params.description }}
                <p class="blog-excerpt">{{ .Params.description }}</p>
              {{ else if .Summary }}
                <p class="blog-excerpt">{{ .Summary }}</p>
              {{ end }}

              <!-- Tags -->
              {{ if .Params.tags }}
                <div class="blog-tags">
                  {{ range first 3 .Params.tags }}
                    <span class="tag">{{ . }}</span>
                  {{ end }}
                </div>
              {{ end }}

              <!-- Read More Button -->
              <div class="blog-actions">
                <a href="{{ .Permalink }}" class="read-more-btn">
                  Read More
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,18 15,12 9,6"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </article>
        {{ end }}
      </div>
    {{ else }}
      <div class="no-posts">
        <div class="no-posts-icon">üìù</div>
        <h3>No posts published yet</h3>
        <p>New posts will be published here soon.</p>
      </div>
    {{ end }}
  </div>
</div>

<style>
.blog-container {
  min-height: 70vh;
  padding: 2rem 0;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
}

.blog-header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem 0;
}

.blog-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 1rem;
  font-family: 'Vazirmatn', sans-serif;
}

.blog-description {
  font-size: 1.125rem;
  color: #6b7280;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

.blog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.blog-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.blog-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.blog-image {
  position: relative;
  height: 200px;
  overflow: hidden;
  background: linear-gradient(135deg, #e5e7eb 0%, #f3f4f6 100%);
}

.blog-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.blog-card:hover .blog-image img {
  transform: scale(1.05);
}

.image-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #bbf7d0 100%);
  color: #059669;
}

.placeholder-icon {
  font-size: 3rem;
  margin-bottom: 0.5rem;
  opacity: 0.8;
}

.placeholder-text {
  font-size: 0.875rem;
  font-weight: 500;
  opacity: 0.7;
}

.blog-content {
  padding: 1.5rem;
}

.blog-categories {
  margin-bottom: 1rem;
}

.category-tag {
  display: inline-block;
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 500;
  margin-right: 0.5rem;
}

.blog-content .blog-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  line-height: 1.4;
}

.blog-content .blog-title a {
  color: #1f2937;
  text-decoration: none;
  transition: color 0.3s ease;
}

.blog-content .blog-title a:hover {
  color: #10b981;
}

.blog-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  font-size: 0.875rem;
  color: #6b7280;
  flex-wrap: wrap;
}

.blog-date,
.blog-author {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.blog-excerpt {
  color: #4b5563;
  line-height: 1.6;
  margin-bottom: 1rem;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.blog-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.tag {
  background: #f3f4f6;
  color: #6b7280;
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
}

.blog-actions {
  padding-top: 1rem;
  border-top: 1px solid #f3f4f6;
}

.read-more-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: #10b981;
  text-decoration: none;
  font-weight: 500;
  font-size: 0.875rem;
  transition: all 0.3s ease;
}

.read-more-btn:hover {
  color: #059669;
  gap: 0.75rem;
}

.no-posts {
  text-align: center;
  padding: 4rem 2rem;
  background: white;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.no-posts-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

.no-posts h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.no-posts p {
  color: #6b7280;
  font-size: 1rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .blog-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .blog-title {
    font-size: 2rem;
  }
  
  .blog-content {
    padding: 1rem;
  }
  
  .blog-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
}
</style>
{{ end }}
