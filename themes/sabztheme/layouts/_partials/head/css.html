<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- Fallback self-hosted style via CDN (loads if Google Fonts blocked) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" media="print" onload="this.media='all'" integrity="sha384-vazirmatn-fallback" referrerpolicy="no-referrer" />
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css"></noscript>

<!-- Icons: Font Awesome (no SRI to avoid blocking in dev) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">

<!-- Main CSS -->
{{ $options := dict "targetPath" "css/main.css" "outputStyle" "expanded" }}
{{ if hugo.IsProduction }}
  {{ $options = dict "targetPath" "css/main.css" "outputStyle" "compressed" }}
{{ end }}

{{ $style := resources.Get "css/main.scss" | css.Sass $options }}
{{ if hugo.IsProduction }}
  {{ $style = $style | resources.Minify | resources.Fingerprint }}
{{ end }}

<link rel="stylesheet" href="{{ $style.RelPermalink }}"{{ if hugo.IsProduction }} integrity="{{ $style.Data.Integrity }}"{{ end }}>

<!-- Posts CSS -->
{{ $postsCSS := resources.Get "css/posts.css" }}
{{ if hugo.IsProduction }}
  {{ $postsCSS = $postsCSS | resources.Minify | resources.Fingerprint }}
{{ end }}
<link rel="stylesheet" href="{{ $postsCSS.RelPermalink }}"{{ if hugo.IsProduction }} integrity="{{ $postsCSS.Data.Integrity }}"{{ end }}>

<!-- Posts List CSS -->
{{ $postsListSCSS := resources.Get "css/posts-list.scss" | css.Sass }}
{{ if hugo.IsProduction }}
  {{ $postsListSCSS = $postsListSCSS | resources.Minify | resources.Fingerprint }}
{{ end }}
<link rel="stylesheet" href="{{ $postsListSCSS.RelPermalink }}"{{ if hugo.IsProduction }} integrity="{{ $postsListSCSS.Data.Integrity }}"{{ end }}>

<!-- Placeholder CSS -->
{{ $placeholderCSS := resources.Get "css/placeholder.css" }}
{{ if hugo.IsProduction }}
  {{ $placeholderCSS = $placeholderCSS | resources.Minify | resources.Fingerprint }}
{{ end }}
<link rel="stylesheet" href="{{ $placeholderCSS.RelPermalink }}"{{ if hugo.IsProduction }} integrity="{{ $placeholderCSS.Data.Integrity }}"{{ end }}>

<!-- Learn Page CSS -->
{{ $learnCSS := resources.Get "css/pages/learn.scss" | css.Sass }}
{{ if hugo.IsProduction }}
  {{ $learnCSS = $learnCSS | resources.Minify | resources.Fingerprint }}
{{ end }}
<link rel="stylesheet" href="{{ $learnCSS.RelPermalink }}"{{ if hugo.IsProduction }} integrity="{{ $learnCSS.Data.Integrity }}"{{ end }}>

<!-- Critical CSS removed to avoid overriding theme variables; styles come from main.css -->
